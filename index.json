[{"body":"","link":"https://www.professionaldev.pro/","section":"","tags":null,"title":""},{"body":"","link":"https://www.professionaldev.pro/categories/","section":"categories","tags":null,"title":"Categories"},{"body":"","link":"https://www.professionaldev.pro/tags/concurrent-tests/","section":"tags","tags":null,"title":"concurrent tests"},{"body":"","link":"https://www.professionaldev.pro/tags/java/","section":"tags","tags":null,"title":"java"},{"body":"","link":"https://www.professionaldev.pro/categories/java/","section":"categories","tags":null,"title":"java"},{"body":"","link":"https://www.professionaldev.pro/tags/java-testing/","section":"tags","tags":null,"title":"java testing"},{"body":"","link":"https://www.professionaldev.pro/tags/junit-5/","section":"tags","tags":null,"title":"junit 5"},{"body":"","link":"https://www.professionaldev.pro/tags/junit-5-testing/","section":"tags","tags":null,"title":"junit 5 testing"},{"body":"","link":"https://www.professionaldev.pro/tags/junit-testing/","section":"tags","tags":null,"title":"junit testing"},{"body":"","link":"https://www.professionaldev.pro/tags/maven/","section":"tags","tags":null,"title":"maven"},{"body":"","link":"https://www.professionaldev.pro/tags/multithreaded-tests-in-java/","section":"tags","tags":null,"title":"multithreaded tests in java"},{"body":"","link":"https://www.professionaldev.pro/tags/parallel-tests/","section":"tags","tags":null,"title":"parallel tests"},{"body":"","link":"https://www.professionaldev.pro/post/","section":"post","tags":null,"title":"Posts"},{"body":"Introduction We need fast-build pipelines. This is because we need fast feedback from our pipeline in order to be more productive. If something is wrong with our code, then we want our pipeline to fail fast. To accomplish that, you may decide to allow parallel test execution for tests in your project. This post describes how to do that with Maven and Junit 5.\nGetting Started With Junit 5 and Maven To get started with Junit 5, you need to import the following dependency into the project:\n1 2\u0026lt;dependency\u0026gt; 3 \u0026lt;groupId\u0026gt;org.junit.jupiter\u0026lt;/groupId\u0026gt; 4 \u0026lt;artifactId\u0026gt;junit-jupiter-engine\u0026lt;/artifactId\u0026gt; 5 \u0026lt;version\u0026gt;5.9.0\u0026lt;/version\u0026gt; 6 \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; 7\u0026lt;/dependency\u0026gt; At the time of writing this article, version 5.9.0 is the newest. You should check maven repository for a new version. Notice, that we imported the library in test scope as there is no need for this library to be in production code because we only use it for running tests.\nRunning Tests in Parallel Maven offers you two ways for running tests in parallel:\nBy starting multiple JVM instances By using multiple threads in the same JVM instance 1. By Using the Parallel Parameter The setup for parallel test execution is straightforward. Include the following parameter:\n1 2\u0026lt;forkCount\u0026gt;2\u0026lt;/forkCount\u0026gt; It must have a value greater than 1 to enable parallel execution. It is important to know that parallel execution is achieved by starting multiple JVM child processes. This has multiple consequences, and it can affect your decision to use this method. Maven starts multiple JVM instances, and this means that it consumes more memory. Each thread has its own memory space. But it accomplishes a greater level of test independence, as processes cannot share data. You can use this method when you need to use an in-memory database for your unit tests.\nThe parameter forkCount has a fixed positive integer value which represents the number of forks. Of course, it is usual that multiple developers work on the same project, and we don't know how many cores other developers will have on their machines. To better use hardware, it would be great if we can set this parameter to create a number of forks that depends on the number of cores on CPU. Maven supports this, and you can configure it in the following way:\n1 2\u0026lt;forkCount\u0026gt;1C\u0026lt;/forkCount\u0026gt; This configuration instructs Maven to create one fork for each core. If your CPU has two virtual threads per core, you can also enter 2Cto use most CPU resources. Or if you don't want to use 100% of your CPU, you can enter 0.5C which will instruct Maven to create forks for the half of CPU cores.\n2. By Setting up Junit Multi-Thread Execution Maven uses plugins for everything. This is also the case for running project tests. To run project tests, Maven uses the Surefire plugin. Unfortunately, it uses the old version of the plugin by default, which doesn't support Junit5 test execution. So, we need to import a newer version of this plugin to Maven. To include a newer version of this plugin, we need to configure Maven. We can do this by adding the following XML to the pom.xml:\n1 2\u0026lt;build\u0026gt; 3 \u0026lt;pluginManagement\u0026gt; 4 \u0026lt;plugins\u0026gt; 5 \u0026lt;plugin\u0026gt; 6 \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; 7 \u0026lt;artifactId\u0026gt;maven-surefire-plugin\u0026lt;/artifactId\u0026gt; 8 \u0026lt;version\u0026gt;3.0.0-M7\u0026lt;/version\u0026gt; 9 \u0026lt;configuration\u0026gt; 10 We will add configuration here 11 \u0026lt;/configuration\u0026gt; 12 \u0026lt;/plugin\u0026gt; 13 \u0026lt;/plugins\u0026gt; 14 \u0026lt;/pluginManagement\u0026gt; 15\u0026lt;/build\u0026gt; The XML is quite self-descriptive. We add new plugin that is in build-\u0026gt;pluginManagement-\u0026gt;plugins section of Maven pom.xml. We import the newest version of the surefire plugin at the time of writing this article. You can check this url for a newer version.\nNow, when we have a newer version of the surefire plugin loaded, we can continue to configure Maven for multithreaded test execution.\nIn the official Maven documentation, to achieve this, you need to use parallel, threadCount and useUnlimitedThreads parameters. I tried all these parameters, but nothing worked with Junit 5. By checking official documentation for Maven Surefire and Junit 5 we can conclude that Junit 5 supports a new multithreaded execution model (which is still in the preview phase). So, to configure multithreaded execution, we need to configure Junit5 as well. We can do this by setting up properties in the Maven configuration.\n1 2\u0026lt;configuration\u0026gt; 3 \u0026lt;properties\u0026gt; 4 \u0026lt;configurationParameters\u0026gt; 5 junit.jupiter.execution.parallel.enabled=true 6 ... 7 \u0026lt;/configurationParameters\u0026gt; 8 \u0026lt;/properties\u0026gt; 9\u0026lt;/configuration\u0026gt; Another option is to create junit-platform.properties file. Put it into test/resources folder, and put all the properties in that file instead of pom.xml.\nIt is enough to set ``junit.jupiter.execution.parallel.enabled=trueto allow parallel test execution. But, if you try running the test after setting up this parameter value totrue``` it will surprise you to see that tests are still running sequentially. The reason for this is that there are 2 strategies in which you can allow parallel execution in tests.\nJunit can assume that all tests are sequential, and only ones that are annotated with @Execution(CONCURRENT) will be executed in parallel. You can use this annotation on a class or test method to enable parallel execution. You can set parameter junit.jupiter.execution.parallel.mode.default = concurrent. Here, all tests will run in parallel by default except ones annotated with ExecutionMode.SAME_THREAD. How Many Threads Junit Will Use for Parallel Execution? This is also configurable property junit.jupiter.execution.parallel.config.strategy=dynamic and it also has default value dynamic. Strategy can be also fixed or custom. If we set up fixed value for this property, then we also need to set up the value for the junit.jupiter.execution.parallel.config.fixed.parallelism=\u0026lt;positive integer\u0026gt;. This is not a scalable solution, and we should use dynamic value to better utilize the hardware.\ndynamic property also has a connected property that influences how many threads JUnit will create. junit.jupiter.execution.parallel.config.dynamic.factor=\u0026lt;positive decimal number\u0026gt;. Factor to multiply by the number of processors/cores to determine the desired parallelism for the dynamic configuration strategy.\nConclusion Parallel test execution can speed up your build, but you must be careful when enabling it as it will not always provide you with better performance. This is because the tests may use the same resource, and they can wait for each other to access it. Because of that, it is always a good idea to test and check everything.\nAnother more significant problem with parallel tests is if the tests are not independent, there can be flaky tests. They are very hard to debug and identify.\nIf you liked this post, you can follow me on Twitter or LinkedIn for more content.\nResources Maven documentation\nJunit guide\nJUnit5 Parallel Execution of tests\n","link":"https://www.professionaldev.pro/post/java/java_multithread_junit5/","section":"post","tags":["java","maven","junit 5","testing","parallel tests","concurrent tests","junit testing","java testing","junit 5 testing","multithreaded tests in java"],"title":"Setting up Junit 5 Parallel Test Execution With Maven"},{"body":"","link":"https://www.professionaldev.pro/tags/","section":"tags","tags":null,"title":"Tags"},{"body":"","link":"https://www.professionaldev.pro/tags/testing/","section":"tags","tags":null,"title":"testing"},{"body":"","link":"https://www.professionaldev.pro/categories/testing/","section":"categories","tags":null,"title":"testing"},{"body":" Currently, I work as Senior Java Developer \u0026amp; Tech Lead at Badin Soft. With more than 8 years of professional experience as a Backend Developer and experience with software development since 2007. Worked with Java Web Services and relational databases on different fintech products. My focus is on helping professional Java developers to optimize their work and solve problems using best practices, new technologies and methodologies by writing clean, secure and performant code in agile environment.\n","link":"https://www.professionaldev.pro/about/","section":"","tags":null,"title":"About Me"},{"body":"","link":"https://www.professionaldev.pro/tags/developers/","section":"tags","tags":null,"title":"developers"},{"body":"","link":"https://www.professionaldev.pro/tags/developers-biggest-problem/","section":"tags","tags":null,"title":"developers biggest problem"},{"body":"I have attended the workshop that is organized by the ITKonekt. The workshop was about efficient coding practices for best performance in Java. Java Champion Victor Rentea did a great job explaining all java internals, tools, hibernate, threads, collections, garbage collections, and much more. It was very enjoyable to learn from him, and I decided to ask him the question:\nWhat is the biggest problem that professional Java developers are facing today?\nHis initial answer was: \u0026quot;Not writing enough Java. They write Kubernetes scripts, dev-ops scripts, python scripts…\u0026quot;\nMy understanding of this is that those people are very experienced developers. He also mentioned that this is what his colleagues are working on currently. But if you are just starting your career, he has advice for you:\nIf you are starting a career, then you should learn the language and frameworks that you are using. You should master the language and frameworks. This is the first challenge. Don't be disgusted by the front-end technologies, try to be full stack after you master Java. This is after you are comfortable with Java. Go a bit full stack, not \u0026quot;full full\u0026quot; stack, but \u0026quot;just a bit\u0026quot; full stack. Try to learn more about what surrounds you. Learn some other language. Kotlin is a good one. Learn dev ops. Try to learn a bit of everything. He also gave me this advice:\nAs long as you are surrounded by people smarter than you, you are good. And as long as you love to work with your team, you are good. Doesn't matter project or technology, it can be a terrible legacy system. If you have super cool surroundings, and you keep learning, and you keep having fun, it's perfect.\nIf you liked this post, you can follow me on Twitter, or LinkedIn.\nVictor is a great trainer and one of the best presenters. You can find him at the following links:\nWebsite victorrentea.ro you can find a blog, recorded talks, plus other goodies. Bucharest-software-craftsmanship-community (3000+ developers). Twitter http://www.linkedin.com/in/victor-rentea-trainer[LinkedIn], https://fb.me/VictorRentea.ro[Facebook]. Victor's YouTube Channel - here you can find more recorded and live content, including coding katas, recordings of past meetups, and more. ","link":"https://www.professionaldev.pro/post/java/victor_biggest_problem_for_java_devs/","section":"post","tags":["java","developers","developers biggest problem"],"title":"I Asked a Java Champion: What Is the Biggest Problem That Professional Java Developers Are Facing Today?"},{"body":"Based on my previous experience, I created a list of 10 mistakes that developers made, preventing them from being a great developer. Here is the list:\n1. Not writing unit tests Developers that don’t write unit tests produce more bugs from the code they write and maintain. That leads to unstable products and client dissatisfaction.\nIf you are not familiar with writing unit tests, there are some resources to get started with:\nhttps://www.vogella.com/tutorials/Mockito/article.html https://www.baeldung.com/mockito-series https://www.softwaretestinghelp.com/mockito-tutorial/ 2. Not manually testing code Even if you completely cover your code with unit tests, there is still a chance that you missed something out. It happens in practice that some error pushes through.\nIt is always good practice to manually test code before pushing it for code review. By doing this, you will look at your solution from the client’s perspective. And not only that you can detect bugs, but you can also identify design problems in the development stage.\n3. Having the mindset “This will never happen” Developers often make mistakes when they write new code by thinking that certain scenarios in code will never happen. Eventually, it turns out that they are wrong. In those situations, applications can behave unpredictably and it can lead to bugs. Handle every scenario that code can go into.\nDefensive programming techniques will help you in that. If you are not familiar with defensive programming, you can check the following Pluralsight course: https://www.pluralsight.com/courses/defensive-programming-java\n4. Not asking for feedback and not giving feedback To improve yourself, regularly ask for feedback. You can as for feedback when you finish a ticket, or after finishing a project, or when you do a presentation… There is no bad time to ask for feedback.\nGive feedback to your colleagues. And not by telling them they are great even if you think they are not so good. Tell them areas where they can improve themselves. If the feedback is honest, they will appreciate you more.\n5. Not checking the performance of code Often, developers write their code, but they don’t check for performance. When code goes to production, it creates various problems. Poor performance can even crush the server.\n6. Writing long procedural code It is very easy to write long methods with a bunch of logic. By doing this, programmers put the same logic in many places. Projects with a lot of small methods have much greater code reusability and are much easier to maintain.\n7. Not being familiar with the tools Tools are extensions of your hands. The better you know them, the more productive you will be. You should be very familiar with the IDE you use.\nLearn shortcuts, they will make you much more productive. Try learning one shortcut to a day and create your personal cheat sheet.\nResearch plugins, usually you will find a plugin that will help you be even more productive. Plugins that will help you write better code in Intellij Idea are Sonar Lint, Spot bugs, and Code Metrics.\n8. Ignoring problems in code Developers that are working on the most successful products are changing the code all the time. Don’t be afraid to refactor code. If your code is unit tested, then there is a low probability of introducing a regression.\nBut, don’t stop there. Developers often ignore problematic code that is not part of their ticket. As a developer, you are responsible to maintain an application and keep it in good shape. Because of that, fix all problems that you find.\nThe best way to proceed with fixing the problem is to create a ticket and work on it with your team. The following story emphasizes why it is important not to ignore problems in code: https://blog.codinghorror.com/the-broken-window-theory/.\n9. Coding by accident Developers should NEVER do a code modification and push that code in production without understanding the consequences of it. Code can produce correct results for given test values. However, there can be scenarios where it can produce unpredicted results and create serious problems.\nCoding by accident often happens when developers use features from libraries that don’t completely understand. It can also happen when the developer solves the problem without understanding the solution.\n10. Not asking for help Developers are not very communicative people. They like to solve problems by themselves. The era where one developer creates a complete solution from start to end is over.\nDeveloping software is a team activity. When you encounter a problem during programming, try to solve it by yourself. But don’t waste too much time if you can’t figure out the solution. There is a high probability that some of your colleagues already encounter the same problem and know a solution.\nIf it is not the case, then you will get help and the team will understand that the problem is complex and that you need time to solve it. Involving more people will help you resolve complex problems faster. Developers that don’t ask for help, usually spend too much time on a ticket.\nHelp others when you see they have problems with their ticket. As a result, the team will be more productive and people will like you more.\nIf you like this content, you can follow me on Twitter or LinkedIn.\n","link":"https://www.professionaldev.pro/post/java/teen_mistakes/","section":"post","tags":["java","java developers","mistakes","java mistakes","developers mistakes","successful developers"],"title":"10 Mistakes That Java Developers Make That Prevent Them From Being Successful Developers"},{"body":"","link":"https://www.professionaldev.pro/tags/developers-mistakes/","section":"tags","tags":null,"title":"developers mistakes"},{"body":"","link":"https://www.professionaldev.pro/tags/java-developers/","section":"tags","tags":null,"title":"java developers"},{"body":"","link":"https://www.professionaldev.pro/tags/java-mistakes/","section":"tags","tags":null,"title":"java mistakes"},{"body":"","link":"https://www.professionaldev.pro/tags/mistakes/","section":"tags","tags":null,"title":"mistakes"},{"body":"","link":"https://www.professionaldev.pro/tags/successful-developers/","section":"tags","tags":null,"title":"successful developers"},{"body":"","link":"https://www.professionaldev.pro/tags/functional-programming/","section":"tags","tags":null,"title":"functional programming"},{"body":"","link":"https://www.professionaldev.pro/categories/functional-programming/","section":"categories","tags":null,"title":"functional programming"},{"body":"","link":"https://www.professionaldev.pro/tags/getting-started-with-functional-programming-in-java/","section":"tags","tags":null,"title":"getting started with functional programming in java"},{"body":"As a Java developer, I always look for ways to improve my coding skills. I heard about functional programming (FP) back when I was a student. Then, FP was not very popular and most developers considered code written using FP to be slow.\nTime has changed and today FP is very popular. Some developers are considering it to be the future of how developers write code.\nFP is the most useful concept that I learned in the last several years. It helped me to become a better developer. I started writing cleaner code with fewer bugs.\nHere are the immediate benefits I got from FP: I sharpen my skills related to using Java Streams. It is much easier for me to work with Streams when I understand FP concepts. My functions that follow FP concepts are easy to understand and maintain. There is no risk to using them in a concurrent environment. The reusability of those functions is much greater. If you are not a fan of “if” and “for” statements, then you will like FP. It can help you write more understandable code that doesn’t include those statements. I can do more with fewer lines of code. The FP is a declarative paradigm. With FP you describe what you want, rather than how to get it. This means that the code is more readable, reusable, and it is easier to maintain. So, how I started with functional programming? We can find a ton of material on the internet related to FP. I usually like to watch video material when I want to learn about a new subject.\nI attended an online presentation hold by Venkat Subramaniam. It was a great and inspiring presentation. The good news is that you can watch it on the following link: Functional Programming with Java 8.\nAfter that presentation, I gained an interest in FP, so I decided to study more about FP. I watched the Pluralsight course Functional Programming: The Big Picture. This course helped me understand the big picture of FP and why it matters.\nThe next natural step was to check if there is a course that's subject is related to implementing FP concepts in Java. I found the course Applying Functional Programming Techniques in Java. It is a great course. It helped me learn, understand, and apply new FP concepts in Java.\nAfter watching those courses, I wanted to know more about Monads. They are very important in FP. Following two videos helped me understand Monads: Brian Beckman: Don't fear the Monad and What the ƒ is a Monad?.\nLearn from Haskell I started learning Haskell. At the end of Venkat Subramaniam's presentation, I asked him if learning Haskell will help me better understand FP concepts. The answer was something like: “Not only Haskell helped me to understand FP, Haskell LEARNED ME how to write good code”. Some developers say that learning Haskell is like learning programming again from scratch. I learned great stuff from Haskell, and it was easy and fun to get started with it. Learn You a Haskell for Great Good! is a great tutorial to get started with Haskell.\nLearn some FP language If you don’t like Haskell, don’t worry, you can learn another FP language. You can check Kotlin, Scala, F#, Clojure, Elixir, Erlang...\nIf you want to stick with JVM, then you can learn Kotlin, Scala, or Clojure. Kotlin and Scala support functional and OOP paradigms and Java developers can easily get started with them. Kotlin is a new language, Spring framework supports it, and some Java developers started switching to it. Because of those reasons, I suggest trying Kotlin.\nClojure is a modern Lisp variant that runs on JVM. It is useful to know that Lisp is the oldest FP language. Also, Uncle Bob is using Clojure.\nMy experience with Functional Programming To get familiar with FP, I studied and applied in practice FP concepts. The most important concepts that I learned are:\nImmutability - I have as many as possible immutable objects in my codebase. This leads to fewer places where I can change the state of the program. And that leads to fewer bugs. Referential transparency - I write as much as possible pure functions. Those functions are like mathematical functions. For the same input, they always have the same output. Pure and unpure functions - before FP, I was not aware of this concept. Now, I separate pure functions from unpure. It allowed me to easier test the code and improved my code reusability. Function Composition - promotes better code readability and it is easier to write code by composing functions. Curried Functions - brilliant concept, but it is not natural to use it in Java like in other FP languages. I don’t use them for now. Lazy evaluation - evaluate values when they are needed. Lambdas are the way to do a lazy evaluation in Java. Higher-Order functions - receive other functions as parameters in existing functions. Those functions are usually utility functions. Map, filter, reduce pattern - Java Stream API implements this pattern. Monads - helped me understand how to handle unpure functions safely. Optional class - FP provides an efficient solution on how to work with nullable objects. I always return the Optional object instead of null in a method that can return null. Railway programming - helped me understand how Stream API and Optional class works. Using FP in code doesn't prevent us, developers, from writing bad code. We still need to write unit tests, have a good understanding of our task and our codebase. We still need to apply all the best practices that we learned in the past. FP is promoting good practices and makes it easier for us developers to write good and maintainable code.\nI plan to further learn about FP and Java. I will continue to write posts on this subject. For updates, you can follow me on Twitter or LinkedIn.\n","link":"https://www.professionaldev.pro/post/java/start_fp_in_java/","section":"post","tags":["functional programming","java","learn functional programming","getting started with functional programming in java"],"title":"How do I become proficient with functional programming in Java"},{"body":"","link":"https://www.professionaldev.pro/tags/learn-functional-programming/","section":"tags","tags":null,"title":"learn functional programming"}]